version: "0.1.0"

signup:
  - name: "user registration form"
    type: "ui feature"
    fields: [firstName, lastName, email, password, confirmPassword]
    validation: [required, emailFormat, passwordMatch, minLength8]

  - name: "create user account"
    type: "api feature"
    input:
      {
        firstName: "string",
        lastName: "string",
        email: "string",
        password: "string",
      }
    output: { user: "object", sessionCookie: "set" }
    errors: [400_missingFields, 409_emailExists, 500_serverError]

  - name: "password hashing"
    type: "security feature"
    algorithm: "PBKDF2-SHA256"
    iterations: 100000
    saltBytes: 32

login:
  - name: "user login form"
    type: "ui feature"
    fields: [email, password]
    validation: [required, emailFormat]

  - name: "authenticate user"
    type: "api feature"
    input: { email: "string", password: "string" }
    output: { user: "object", sessionCookie: "set" }
    errors: [400_missingCredentials, 401_invalidCredentials, 500_serverError]

session:
  - name: "session management"
    type: "security feature"
    signing: "HMAC-SHA256"
    expiry: "7 days"
    cookie: { httpOnly: true, secure: true, sameSite: "lax" }

  - name: "route protection"
    type: "middleware feature"
    protected: ["/", "/mcqs/*"]
    public: ["/login", "/signup", "/api/auth/*"]
    behavior: "redirect to /login if unauthenticated"

logout:
  - name: "user logout"
    type: "api feature"
    endpoint: "POST /api/auth/logout"
    output: { sessionCookie: "cleared" }
